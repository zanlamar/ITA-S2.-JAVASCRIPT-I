<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="author" content="Ana Laf">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sprint 2.1: JavaScript</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <script src="./7_Promises_Async_Await.js"></script>

    <h1>Sprint 2.1: JavaScript</h1>
    <h2>PART 7: Promises & Async / Await</h2>
    <p>&#128073 All the exercices results will be displayed by console.</p>
    <br>
    <a href="../6_Array_Loops/index6.html" class="back-next">Previous exercise</a>
    <a href="/index.html" class="toMenu">Menu</a>
    <br>
    <br>
    <br>
    <hr>
    <br>

    <h2>LEVEL 1</h2>

    <h5>1.1 PROMISE CREATION</h5>
    <p>Create a promise that resolves after 2 seconds and returns the string 'Hola, món'.</p>
    <br>
    <div class="answer">
        function greeting() {<br>
        &nbsp;&nbsp;return new Promise((resolve) => {<br>
        &nbsp;&nbsp;&nbsp;&nbsp;setTimeout(() => {<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resolve(`Hola, món`);<br>
        &nbsp;&nbsp;&nbsp;&nbsp;}, 2000);<br>
        &nbsp;&nbsp;});<br>
        }
    </div>
    <br>

    <h5>1.2 PROMISE USE</h5>
    <p>Use the previously created promise with .then() to print the result in the console.</p>
    <br>
    <div class="answer">
        greeting()<br>
        &nbsp;&nbsp;.then((result) => {<br>
        &nbsp;&nbsp;&nbsp;&nbsp;console.log(result);<br>
        &nbsp;&nbsp;});
    </div>
    <br>

    <h5>1.3 PROMISE WITH REJECT</h5>
    <p>Create a promise that resolves after 2 seconds if the input is 'Hello', and rejects otherwise.</p>
    <br>
    <div class="answer">
        function checkHi(input) {<br>
        &nbsp;&nbsp;return new Promise((resolve, reject) => {<br>
        &nbsp;&nbsp;&nbsp;&nbsp;setTimeout(() => {<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (input === 'Hello') {<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resolve('Hello to you too!');<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reject(`Ey, haven't you seen me?`);<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
        &nbsp;&nbsp;&nbsp;&nbsp;}, 2000);<br>
        &nbsp;&nbsp;});<br>
        }<br><br>
        checkHi('Bye')<br>
        &nbsp;&nbsp;.then((result) => {<br>
        &nbsp;&nbsp;&nbsp;&nbsp;console.log(`All ok.`, result);<br>
        &nbsp;&nbsp;})<br>
        &nbsp;&nbsp;.catch((error) => {<br>
        &nbsp;&nbsp;&nbsp;&nbsp;console.log(`Ooops...`, error);<br>
        &nbsp;&nbsp;});
    </div>
    <br>

    <h5>1.4 ASYNC / AWAIT</h5>
    <p>Use of async/await: Write an asynchronous function that uses the await keyword to wait for the result of the promise created in exercise 1, and then prints that result to the console. </p>    <br>
    <div class="answer">
        async function moreGreeting() {<br>
        &nbsp;&nbsp;const x = await greeting();<br>
        &nbsp;&nbsp;console.log(x);<br>
        }<br><br>
        moreGreeting();
    </div>
    <br>
    <hr>
    <br>

    <h2>LEVEL 2</h2>

    <h5>2.1 ERROR MANAGEMENT WITH ASYNC / AWAIT</h5>
    <p>Modify the async function to catch errors using try/catch.</p>
    <br>
    <div class="answer2">
        async function moreGreeting() {<br>
        &nbsp;&nbsp;try {<br>
        &nbsp;&nbsp;&nbsp;&nbsp;const x = await greeting();<br>
        &nbsp;&nbsp;&nbsp;&nbsp;console.log(x, '-- No errors');<br>
        &nbsp;&nbsp;} catch (error) {<br>
        &nbsp;&nbsp;&nbsp;&nbsp;console.log('Error. Something is not right.', error);<br>
        &nbsp;&nbsp;}<br>
        }
    </div>
    <br>
    <hr>
    <br>

    <h2>LEVEL 3</h2>

    <h5>3.1 PROMISE.ALL</h5>
    <p>Create two promises that resolve after 2 and 3 seconds, respectively. Use Promise.all to wait for both.</p>
    <br>
    <div class="answer3">
        function footSize() {<br>
        &nbsp;&nbsp;return new Promise((resolve) => {<br>
        &nbsp;&nbsp;&nbsp;&nbsp;setTimeout(() => {<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resolve(24);<br>
        &nbsp;&nbsp;&nbsp;&nbsp;}, 2000);<br>
        &nbsp;&nbsp;});<br>
        }<br><br>

        function shoeSize() {<br>
        &nbsp;&nbsp;return new Promise((resolve) => {<br>
        &nbsp;&nbsp;&nbsp;&nbsp;setTimeout(() => {<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resolve(38);<br>
        &nbsp;&nbsp;&nbsp;&nbsp;}, 3000);<br>
        &nbsp;&nbsp;});<br>
        }<br><br>

        Promise.all([footSize(), shoeSize()])<br>
        &nbsp;&nbsp;.then(([foot, shoe]) => {<br>
        &nbsp;&nbsp;&nbsp;&nbsp;console.log(Fot a foot size  ${foot}, the ideal shoe size would be ${shoe}.`);<br>
        &nbsp;&nbsp;})<br>
        &nbsp;&nbsp;.catch((error) => {<br>
        &nbsp;&nbsp;&nbsp;&nbsp;console.log(error.message);<br>
        &nbsp;&nbsp;});
    </div>
</body>
</html>
